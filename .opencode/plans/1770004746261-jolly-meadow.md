# Plan: Refactor ECommerceRealWorldTest Data Creation

## Goal
Reduce repetition in `ECommerceRealWorldTest` by introducing a simple test data factory with `Consumer<T>` modifiers, keeping the tests KISS and DRY.

## Plan
### 1. Add a test data factory utility
- New file: `memris-core/src/test/java/io/memris/core/TestDataFactory.java`
- Provide factory methods for entities used in the test: `Customer`, `Product`, `Order`, `OrderItem`, `AnalyticsEvent`, plus join entities.
- Use `Consumer<T>...` modifiers to adjust fields per test; include a small shared `apply` helper to run modifiers.
- Set sensible defaults in each factory method so tests only override what matters.

### 2. Refactor `ECommerceRealWorldTest` to use the factory
- File: `memris-core/src/test/java/io/memris/core/ECommerceRealWorldTest.java`
- Replace repetitive `new Entity(...)` blocks with factory calls + modifiers (e.g., `customer(c -> c.email = "...")`).
- Keep explicit values for IDs, timestamps, and fields that affect assertions.
- Preserve test intent and single-assertion rules.

## Verification
- Run focused tests for the refactored areas (skip checkstyle if needed):
```bash
mvn.cmd -q -e -pl memris-core test -Dtest=ECommerceRealWorldTest -Dcheckstyle.skip=true -Dmaven.checkstyle.skip=true
```

## Success Criteria
- Tests remain readable and pass with no behavioral changes.
- Repeated entity construction is consolidated into the factory utility.
