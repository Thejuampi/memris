# Apply New Coding Rules: Prefer 'var' and No Record Overrides

## Summary
Apply the two new rules from CLAUDE.md across the Java codebase (~120 files):
1. Prefer 'var' for local variable declarations instead of explicit types.
2. Remove manual equals/hashCode overrides from Java records.

Scope: High effort for 'var' replacements (~500 instances), low for record fix (1 instance). Focus on core packages (runtime, storage, core).

## Steps
1. **Fix LogicalQuery Record**: Remove manual equals/hashCode overrides (lines 130-160 in LogicalQuery.java) to rely on auto-generated implementations.

2. **Batch 'var' Replacements**:
   - Identify explicit local declarations (e.g., `String foo =`, `List<Bar> baz =`) in main source files.
   - Replace with `var` where type is inferable from initializer.
   - Prioritize: TableGenerator.java, HeapRuntimeKernel.java, MemrisRepositoryFactory.java, then other runtime/query files.
   - Skip: Fields, method params, ambiguous cases (e.g., null literals), primitive arrays if clarity suffers.

3. **Update Documentation**: Correct contradicting plan file (.opencode/plans/1769973920614-misty-cabin.md) to prefer 'var'.

## Critical Files
- G:\dev\repos\memris\memris-core\src\main\java\io\memris\query\LogicalQuery.java (remove overrides)
- G:\dev\repos\memris\memris-core\src\main\java\io\memris\storage\heap\TableGenerator.java (var replacements)
- G:\dev\repos\memris\memris-core\src\main\java\io\memris\runtime\HeapRuntimeKernel.java (var replacements)
- G:\dev\repos\memris\memris-core\src\main\java\io\memris\repository\MemrisRepositoryFactory.java (var replacements)
- G:\dev\repos\memris\.opencode\plans\1769973920614-misty-cabin.md (update guideline)

## Verification
- Compile: `mvn -q compile`
- Tests: `mvn -q -pl memris-core test`
- Lint: Run any configured linters (e.g., Spotless/Checkstyle via Maven)
- Check: No compilation errors, tests pass, no inference ambiguities</content>
<parameter name="filePath">G:\dev\repos\memris\.opencode\plans\1770001972905-clever-otter.md